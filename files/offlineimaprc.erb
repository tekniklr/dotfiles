##################################################
# General definitions
##################################################

[general]
metadata = ~/.offlineimap
accounts = gmail
maxsyncaccounts = 1
ui = Noninteractive.Basic
ignore-readonly = no

##################################################
# Accounts
##################################################

[Account gmail]
localrepository = gmail_local
remoterepository = gmail_remote

[Repository gmail_local]
type = Maildir
localfolders = ~/backup/email_backups/
sep = .

[Repository gmail_remote]
type = IMAP
remotehost = imap.gmail.com
remoteuser = <%= print("Gmail username: "); STDOUT.flush; STDIN.gets.chomp %>
remotepass = <%= print("Gmail password: "); STDOUT.flush; STDIN.gets.chomp %>
ssl = yes
nametrans = lambda foldername: re.sub('^INBOX$', '0:Inbox', re.sub('^\[Gmail\]/', 'XX:', foldername))
maxconnections = 1
